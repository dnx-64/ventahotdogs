<!doctype html>
<html lang="es-MX">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>POS Hotdogs (Local)</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="css/styles.css" />
  <meta name="theme-color" content="#0f172a" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="assets/img/logo.png" alt="Logo" class="logo" />
      <div>
        <div class="title">POS Hotdogs</div>
        <div class="subtitle" id="subtitle">Local • Offline</div>
      </div>
    </div>

    <div class="top-actions">
      <a class="btn ghost" href="ventas.html">Ventas</a>
      <a class="btn ghost" href="admin.html">Admin</a>
    </div>
  </header>

  <main class="layout">
    <section class="catalog">
      <div class="section-head">
        <h2>Categorías</h2>
        <div class="pill" id="clock">--:--</div>
      </div>

      <div class="cats" id="cats"></div>

      <div class="section-head" style="margin-top:14px;">
        <h2>Productos</h2>
        <div class="smallnote">Toca para agregar</div>
      </div>

      <div class="grid" id="grid"></div>
    </section>

    <aside class="cart">
      <div class="cart-head">
        <h2>Pedido</h2>
        <button class="btn ghost" id="btnClear">Vaciar</button>
      </div>

      <div class="cart-list" id="cartList"></div>

      <div class="promo-box">
        <div class="promo-row">
          <label class="label" for="promoSelect">Promo (opcional)</label>
          <select id="promoSelect"></select>
        </div>
        <div class="smallnote" id="promoHint">Activa promos por días en Admin.</div>
      </div>

      <div class="totals">
        <div class="row">
          <div>Subtotal</div>
          <div id="subtotal">$0.00</div>
        </div>
        <div class="row">
          <div>Descuento</div>
          <div id="discount">$0.00</div>
        </div>
        <div class="row total">
          <div>Total</div>
          <div id="total">$0.00</div>
        </div>
      </div>

      <button class="btn primary big" id="btnPrepare">COBRAR</button>

      <div class="smallnote footer-note">
        Guarda automáticamente cada venta.
      </div>
    </aside>
  </main>

  <!-- MODAL DE COBRO -->
  <div class="modal" id="payModal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <div>
          <div class="modal-title">Cobrar</div>
          <div class="modal-sub" id="payTotalText">$0.00</div>
        </div>
        <button class="btn ghost" id="btnPayClose">Cerrar</button>
      </div>

      <div class="row-wrap" style="margin-top:10px;">
        <div class="field">
          <div class="label">¿Con cuánto paga?</div>
          <input id="payWith" type="number" step="0.01" placeholder="Ej. 100.00" inputmode="decimal" />
        </div>

        <div class="field">
          <div class="label">Cambio</div>
          <input id="payChange" disabled />
        </div>
      </div>

      <div class="btns" style="margin-top:10px;">
        <button class="btn primary" id="btnConfirmPay">Confirmar cobro</button>
      </div>

      <div class="smallnote" style="margin-top:8px;">
        Si el pago es exacto, el cambio será $0.00.
      </div>
    </div>
  </div>

  <script src="js/db.js"></script>
  <script src="js/app.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./service-worker.js");
    }
  </script>
</body>
</html>
